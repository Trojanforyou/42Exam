#include <unistd.h>
#include <stdio.h>

int check(char *s) {
    int n = 0;
    for (int i = 0; s[i]; i++) 
    {
        if (s[i] == '(') 
            n++;
        if (s[i] == ')') 
        {
            if (n) 
                n--;
            else 
                return 0;
        }
    }
    return n == 0;
}    //Эта функция просто отвечает: «Строка сейчас правильная или нет?»

int need(char *s) {
    int o = 0, c = 0;
    for (int i = 0; s[i]; i++) 
    {
        if (s[i] == '(') 
            o++;
        if (s[i] == ')') 
        {
            if (o) 
                o--;
            else 
                c++;
        }
    }                           //функция даёт ответ: «Сколько всего надо заменить на пробелы?»
    return o + c;
}

void solve(char *s, int fix, int pos, int must) 
{
    if (fix == must) 
    { 
        if (check(s)) 
            puts(s); 
        return; 
    }
    for (int i = pos; s[i]; i++) 
    {
        char t = s[i];
        if (t == '(' || t == ')') 
        {
            s[i] = ' ';
            solve(s, fix + 1, i + 1, must);
            s[i] = t;
        }
    }                                           // перебираем все возможные варианты удаления минимального числа скобок
}  

int main(int ac, char **av) {
    if (ac == 2)
        solve(av[1], 0, 0, need(av[1]));
}